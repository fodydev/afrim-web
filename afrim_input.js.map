{"version":3,"file":"afrim_input.js","mappings":"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","sources":["webpack://afrim-input/webpack/universalModuleDefinition","webpack://afrim-input/webpack/runtime/async module","webpack://afrim-input/../../node_modules/afrim-js/afrim_js.js","webpack://afrim-input/../../node_modules/afrim-js/afrim_js_bg.js","webpack://afrim-input/../../node_modules/textarea-caret/index.js","webpack://afrim-input/./src/bootstrap.ts","webpack://afrim-input/./src/config.ts","webpack://afrim-input/./src/index.ts","webpack://afrim-input/./src/utils.ts","webpack://afrim-input/../../node_modules/ky/distribution/errors/HTTPError.js","webpack://afrim-input/../../node_modules/ky/distribution/errors/TimeoutError.js","webpack://afrim-input/../../node_modules/ky/distribution/utils/is.js","webpack://afrim-input/../../node_modules/ky/distribution/utils/merge.js","webpack://afrim-input/../../node_modules/ky/distribution/core/constants.js","webpack://afrim-input/../../node_modules/ky/distribution/utils/normalize.js","webpack://afrim-input/../../node_modules/ky/distribution/core/Ky.js","webpack://afrim-input/../../node_modules/ky/distribution/utils/delay.js","webpack://afrim-input/../../node_modules/ky/distribution/utils/options.js","webpack://afrim-input/../../node_modules/ky/distribution/utils/timeout.js","webpack://afrim-input/../../node_modules/ky/distribution/index.js","webpack://afrim-input/webpack/bootstrap","webpack://afrim-input/webpack/runtime/define property getters","webpack://afrim-input/webpack/runtime/global","webpack://afrim-input/webpack/runtime/harmony module decorator","webpack://afrim-input/webpack/runtime/hasOwnProperty shorthand","webpack://afrim-input/webpack/runtime/make namespace object","webpack://afrim-input/webpack/runtime/wasm loading","webpack://afrim-input/webpack/runtime/publicPath","webpack://afrim-input/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, () => {\nreturn ","var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = (queue) => {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tbody((deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","import * as wasm from \"./afrim_js_bg.wasm\";\nimport { __wbg_set_wasm } from \"./afrim_js_bg.js\";\n__wbg_set_wasm(wasm);\nexport * from \"./afrim_js_bg.js\";\n","let wasm;\nexport function __wbg_set_wasm(val) {\n    wasm = val;\n}\n\n\nconst lTextDecoder = typeof TextDecoder === 'undefined' ? (0, module.require)('util').TextDecoder : TextDecoder;\n\nlet cachedTextDecoder = new lTextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nlet cachedUint8Memory0 = null;\n\nfunction getUint8Memory0() {\n    if (cachedUint8Memory0 === null || cachedUint8Memory0.byteLength === 0) {\n        cachedUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nconst heap = new Array(128).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nlet heap_next = heap.length;\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nfunction getObject(idx) { return heap[idx]; }\n\nfunction dropObject(idx) {\n    if (idx < 132) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nconst lTextEncoder = typeof TextEncoder === 'undefined' ? (0, module.require)('util').TextEncoder : TextEncoder;\n\nlet cachedTextEncoder = new lTextEncoder('utf-8');\n\nconst encodeString = (typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n}\n    : function (arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n});\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length, 1) >>> 0;\n        getUint8Memory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len, 1) >>> 0;\n\n    const mem = getUint8Memory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3, 1) >>> 0;\n        const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n\n        offset += ret.written;\n        ptr = realloc(ptr, len, offset, 1) >>> 0;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n\nfunction isLikeNone(x) {\n    return x === undefined || x === null;\n}\n\nlet cachedInt32Memory0 = null;\n\nfunction getInt32Memory0() {\n    if (cachedInt32Memory0 === null || cachedInt32Memory0.byteLength === 0) {\n        cachedInt32Memory0 = new Int32Array(wasm.memory.buffer);\n    }\n    return cachedInt32Memory0;\n}\n\nlet cachedFloat64Memory0 = null;\n\nfunction getFloat64Memory0() {\n    if (cachedFloat64Memory0 === null || cachedFloat64Memory0.byteLength === 0) {\n        cachedFloat64Memory0 = new Float64Array(wasm.memory.buffer);\n    }\n    return cachedFloat64Memory0;\n}\n\nfunction debugString(val) {\n    // primitive types\n    const type = typeof val;\n    if (type == 'number' || type == 'boolean' || val == null) {\n        return  `${val}`;\n    }\n    if (type == 'string') {\n        return `\"${val}\"`;\n    }\n    if (type == 'symbol') {\n        const description = val.description;\n        if (description == null) {\n            return 'Symbol';\n        } else {\n            return `Symbol(${description})`;\n        }\n    }\n    if (type == 'function') {\n        const name = val.name;\n        if (typeof name == 'string' && name.length > 0) {\n            return `Function(${name})`;\n        } else {\n            return 'Function';\n        }\n    }\n    // objects\n    if (Array.isArray(val)) {\n        const length = val.length;\n        let debug = '[';\n        if (length > 0) {\n            debug += debugString(val[0]);\n        }\n        for(let i = 1; i < length; i++) {\n            debug += ', ' + debugString(val[i]);\n        }\n        debug += ']';\n        return debug;\n    }\n    // Test for built-in\n    const builtInMatches = /\\[object ([^\\]]+)\\]/.exec(toString.call(val));\n    let className;\n    if (builtInMatches.length > 1) {\n        className = builtInMatches[1];\n    } else {\n        // Failed to match the standard '[object ClassName]'\n        return toString.call(val);\n    }\n    if (className == 'Object') {\n        // we're a user defined class or Object\n        // JSON.stringify avoids problems with cycles, and is generally much\n        // easier than looping through ownProperties of `val`.\n        try {\n            return 'Object(' + JSON.stringify(val) + ')';\n        } catch (_) {\n            return 'Object';\n        }\n    }\n    // errors\n    if (val instanceof Error) {\n        return `${val.name}: ${val.message}\\n${val.stack}`;\n    }\n    // TODO we could test for more things here, like `Set`s and `Map`s.\n    return className;\n}\n/**\n* Convert TOML to JSON.\n*\n* # Example\n*\n* ```ignore\n* let data = convertTomlToJson(\n*     \"[info]\\n\" +\n*     \"name = \\\"sample\\\"\\n\" +\n*     \"\\n\" +\n*     \"[data]\\n\" +\n*     \"hello = \\\"hi\\\"\\n\"\n* );\n* ```\n* @param {string} content\n* @returns {any}\n*/\nexport function convertTomlToJson(content) {\n    try {\n        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n        const ptr0 = passStringToWasm0(content, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.convertTomlToJson(retptr, ptr0, len0);\n        var r0 = getInt32Memory0()[retptr / 4 + 0];\n        var r1 = getInt32Memory0()[retptr / 4 + 1];\n        var r2 = getInt32Memory0()[retptr / 4 + 2];\n        if (r2) {\n            throw takeObject(r1);\n        }\n        return takeObject(r0);\n    } finally {\n        wasm.__wbindgen_add_to_stack_pointer(16);\n    }\n}\n\nfunction handleError(f, args) {\n    try {\n        return f.apply(this, args);\n    } catch (e) {\n        wasm.__wbindgen_exn_store(addHeapObject(e));\n    }\n}\n\nconst PreprocessorFinalization = (typeof FinalizationRegistry === 'undefined')\n    ? { register: () => {}, unregister: () => {} }\n    : new FinalizationRegistry(ptr => wasm.__wbg_preprocessor_free(ptr >>> 0));\n/**\n* Core structure of the preprocessor.\n*/\nexport class Preprocessor {\n\n    __destroy_into_raw() {\n        const ptr = this.__wbg_ptr;\n        this.__wbg_ptr = 0;\n        PreprocessorFinalization.unregister(this);\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_preprocessor_free(ptr);\n    }\n    /**\n    * Initializes the preprocessor.\n    *\n    * # Example\n    *\n    * ```ignore\n    * let data = { a1: \"à\", ae: \"æ\" };\n    * let preprocessor = new Preprocessor(data, 64);\n    * ```\n    * @param {any} data\n    * @param {number} buffer_size\n    */\n    constructor(data, buffer_size) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            wasm.preprocessor_new(retptr, addHeapObject(data), buffer_size);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            var r2 = getInt32Memory0()[retptr / 4 + 2];\n            if (r2) {\n                throw takeObject(r1);\n            }\n            this.__wbg_ptr = r0 >>> 0;\n            return this;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Process an keyboard event.\n    *\n    * # Example\n    *\n    * ```ignore\n    * let data = { a1: \"à\", ae: \"æ\" };\n    * let preprocessor = new Preprocessor(data, 64);\n    * preprocessor.process(\"a\", \"keydown\");\n    * preprocessor.process(\"1\", \"keydown\");\n    * ```\n    * @param {string} key\n    * @param {string} state\n    * @returns {boolean}\n    */\n    process(key, state) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            const ptr0 = passStringToWasm0(key, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n            const len0 = WASM_VECTOR_LEN;\n            const ptr1 = passStringToWasm0(state, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n            const len1 = WASM_VECTOR_LEN;\n            wasm.preprocessor_process(retptr, this.__wbg_ptr, ptr0, len0, ptr1, len1);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            var r2 = getInt32Memory0()[retptr / 4 + 2];\n            if (r2) {\n                throw takeObject(r1);\n            }\n            return r0 !== 0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Commit a text.\n    *\n    * # Example\n    *\n    * ```ignore\n    * let preprocessor = new Preprocessor(data, 64);\n    * preprocessor.commit(\"ŋna\");\n    * ```\n    * @param {string} text\n    */\n    commit(text) {\n        const ptr0 = passStringToWasm0(text, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.preprocessor_commit(this.__wbg_ptr, ptr0, len0);\n    }\n    /**\n    * Return the next command to be executed.\n    *\n    * # Example\n    *\n    * ```ignore\n    * let data = { a1: \"à\", ae: \"æ\" };\n    * let preprocessor = new Preprocessor(data, 64);\n    * preprocessor.process(\"a\", \"keydown\");\n    * preprocessor.process(\"1\", \"keydown\");\n    *\n    * preprocessor.popQueue() == \"Pause\";\n    * preprocessor.popQueue() == { CommitText: \"à\" };\n    * preprocessor.popQueue() == \"Resume\";\n    * preprocessor.popQueue() == \"NOP\";\n    * ```\n    * @returns {any}\n    */\n    popQueue() {\n        const ret = wasm.preprocessor_popQueue(this.__wbg_ptr);\n        return takeObject(ret);\n    }\n    /**\n    * Return the input from the memory.\n    *\n    * # Example\n    *\n    * ```ignore\n    * let preprocessor = new Preprocessor(data, 64);\n    * preprocessor.process(\"a\", \"keydown\");\n    * preprocessor.process(\"1\", \"keydown\");\n    *\n    * preprocessor.getInput() == \"a1\";\n    * ```\n    * @returns {string}\n    */\n    getInput() {\n        let deferred1_0;\n        let deferred1_1;\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            wasm.preprocessor_getInput(retptr, this.__wbg_ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            deferred1_0 = r0;\n            deferred1_1 = r1;\n            return getStringFromWasm0(r0, r1);\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n            wasm.__wbindgen_free(deferred1_0, deferred1_1, 1);\n        }\n    }\n    /**\n    * Clear the preprocessor commands from the queue.\n    *\n    * # Example\n    *\n    * ```ignore\n    * let data = { a1: \"à\", ae: \"æ\" };\n    * let preprocessor = new Preprocessor(data, 64);\n    * preprocessor.process(\"a\", \"keydown\");\n    * preprocessor.process(\"1\", \"keydown\");\n    *\n    * preprocessor.clearQueue();\n    * preprocessor.popQueue() == \"NOP\";\n    * ```\n    */\n    clearQueue() {\n        wasm.preprocessor_clearQueue(this.__wbg_ptr);\n    }\n}\n\nconst TranslatorFinalization = (typeof FinalizationRegistry === 'undefined')\n    ? { register: () => {}, unregister: () => {} }\n    : new FinalizationRegistry(ptr => wasm.__wbg_translator_free(ptr >>> 0));\n/**\n* Core structure of the translator.\n*/\nexport class Translator {\n\n    __destroy_into_raw() {\n        const ptr = this.__wbg_ptr;\n        this.__wbg_ptr = 0;\n        TranslatorFinalization.unregister(this);\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_translator_free(ptr);\n    }\n    /**\n    * Initializes the translator.\n    *\n    * # Example\n    *\n    * ```ignore\n    * let data = { hi: [ \"hello\", \"hola\", \"hey\" ] };\n    * let translator = new Translator(data, false);\n    * ```\n    * @param {any} dictionary\n    * @param {boolean} auto_commit\n    */\n    constructor(dictionary, auto_commit) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            wasm.translator_new(retptr, addHeapObject(dictionary), auto_commit);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            var r2 = getInt32Memory0()[retptr / 4 + 2];\n            if (r2) {\n                throw takeObject(r1);\n            }\n            this.__wbg_ptr = r0 >>> 0;\n            return this;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Register a translator from source code.\n    *\n    * Note that the translator is written using [The Rhai Script Language](https://rhai.rs).\n    *\n    * # Example\n    *\n    * ```ignore\n    * let translator = new Translator({}, false);\n    * translator.register(\n    *     count_script,\n    *     \"fn translate(input) {\" +\n    *     \"    return [input, \"\", input.len().to_string(), false];\" +\n    *     \"}\"\n    * );\n    *\n    * translator.translate(\"hello\") == [\n    *     {\n    *         code: \"hello\",\n    *         remaining_code: \"\",\n    *         texts: [\"5\"],\n    *         can_commit: false\n    *     }\n    * ];\n    * ```\n    * @param {string} name\n    * @param {string} source\n    */\n    register(name, source) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            const ptr0 = passStringToWasm0(name, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n            const len0 = WASM_VECTOR_LEN;\n            const ptr1 = passStringToWasm0(source, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n            const len1 = WASM_VECTOR_LEN;\n            wasm.translator_register(retptr, this.__wbg_ptr, ptr0, len0, ptr1, len1);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            if (r1) {\n                throw takeObject(r0);\n            }\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Unregister a translator.\n    * @param {string} name\n    */\n    unregister(name) {\n        const ptr0 = passStringToWasm0(name, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.translator_unregister(this.__wbg_ptr, ptr0, len0);\n    }\n    /**\n    * Generate predicates based on the input.\n    *\n    * # Example\n    *\n    * ```ignore\n    * let data = { hi: [ \"hello\" ] };\n    * let translator = new Translator(data, false);\n    * translator.translate(\"hi\") == [\n    *     {\n    *         code: \"hi\",\n    *         remaining_code: \"\",\n    *         texts: [\"hello\"],\n    *         can_commit: true\n    *     }\n    * ];\n    * ```\n    * @param {string} input\n    * @returns {any}\n    */\n    translate(input) {\n        const ptr0 = passStringToWasm0(input, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len0 = WASM_VECTOR_LEN;\n        const ret = wasm.translator_translate(this.__wbg_ptr, ptr0, len0);\n        return takeObject(ret);\n    }\n}\n\nexport function __wbindgen_error_new(arg0, arg1) {\n    const ret = new Error(getStringFromWasm0(arg0, arg1));\n    return addHeapObject(ret);\n};\n\nexport function __wbindgen_object_drop_ref(arg0) {\n    takeObject(arg0);\n};\n\nexport function __wbindgen_string_new(arg0, arg1) {\n    const ret = getStringFromWasm0(arg0, arg1);\n    return addHeapObject(ret);\n};\n\nexport function __wbindgen_string_get(arg0, arg1) {\n    const obj = getObject(arg1);\n    const ret = typeof(obj) === 'string' ? obj : undefined;\n    var ptr1 = isLikeNone(ret) ? 0 : passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n    var len1 = WASM_VECTOR_LEN;\n    getInt32Memory0()[arg0 / 4 + 1] = len1;\n    getInt32Memory0()[arg0 / 4 + 0] = ptr1;\n};\n\nexport function __wbindgen_as_number(arg0) {\n    const ret = +getObject(arg0);\n    return ret;\n};\n\nexport function __wbindgen_object_clone_ref(arg0) {\n    const ret = getObject(arg0);\n    return addHeapObject(ret);\n};\n\nexport function __wbindgen_is_object(arg0) {\n    const val = getObject(arg0);\n    const ret = typeof(val) === 'object' && val !== null;\n    return ret;\n};\n\nexport function __wbg_crypto_d05b68a3572bb8ca(arg0) {\n    const ret = getObject(arg0).crypto;\n    return addHeapObject(ret);\n};\n\nexport function __wbg_process_b02b3570280d0366(arg0) {\n    const ret = getObject(arg0).process;\n    return addHeapObject(ret);\n};\n\nexport function __wbg_versions_c1cb42213cedf0f5(arg0) {\n    const ret = getObject(arg0).versions;\n    return addHeapObject(ret);\n};\n\nexport function __wbg_node_43b1089f407e4ec2(arg0) {\n    const ret = getObject(arg0).node;\n    return addHeapObject(ret);\n};\n\nexport function __wbindgen_is_string(arg0) {\n    const ret = typeof(getObject(arg0)) === 'string';\n    return ret;\n};\n\nexport function __wbg_require_9a7e0f667ead4995() { return handleError(function () {\n    const ret = module.require;\n    return addHeapObject(ret);\n}, arguments) };\n\nexport function __wbg_msCrypto_10fc94afee92bd76(arg0) {\n    const ret = getObject(arg0).msCrypto;\n    return addHeapObject(ret);\n};\n\nexport function __wbg_randomFillSync_b70ccbdf4926a99d() { return handleError(function (arg0, arg1) {\n    getObject(arg0).randomFillSync(takeObject(arg1));\n}, arguments) };\n\nexport function __wbg_getRandomValues_7e42b4fb8779dc6d() { return handleError(function (arg0, arg1) {\n    getObject(arg0).getRandomValues(getObject(arg1));\n}, arguments) };\n\nexport function __wbg_now_4e659b3d15f470d9(arg0) {\n    const ret = getObject(arg0).now();\n    return ret;\n};\n\nexport function __wbindgen_jsval_loose_eq(arg0, arg1) {\n    const ret = getObject(arg0) == getObject(arg1);\n    return ret;\n};\n\nexport function __wbindgen_boolean_get(arg0) {\n    const v = getObject(arg0);\n    const ret = typeof(v) === 'boolean' ? (v ? 1 : 0) : 2;\n    return ret;\n};\n\nexport function __wbindgen_number_get(arg0, arg1) {\n    const obj = getObject(arg1);\n    const ret = typeof(obj) === 'number' ? obj : undefined;\n    getFloat64Memory0()[arg0 / 8 + 1] = isLikeNone(ret) ? 0 : ret;\n    getInt32Memory0()[arg0 / 4 + 0] = !isLikeNone(ret);\n};\n\nexport function __wbg_String_b9412f8799faab3e(arg0, arg1) {\n    const ret = String(getObject(arg1));\n    const ptr1 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n    const len1 = WASM_VECTOR_LEN;\n    getInt32Memory0()[arg0 / 4 + 1] = len1;\n    getInt32Memory0()[arg0 / 4 + 0] = ptr1;\n};\n\nexport function __wbindgen_number_new(arg0) {\n    const ret = arg0;\n    return addHeapObject(ret);\n};\n\nexport function __wbindgen_bigint_from_i64(arg0) {\n    const ret = arg0;\n    return addHeapObject(ret);\n};\n\nexport function __wbg_set_f975102236d3c502(arg0, arg1, arg2) {\n    getObject(arg0)[takeObject(arg1)] = takeObject(arg2);\n};\n\nexport function __wbindgen_is_function(arg0) {\n    const ret = typeof(getObject(arg0)) === 'function';\n    return ret;\n};\n\nexport function __wbg_self_ce0dbfc45cf2f5be() { return handleError(function () {\n    const ret = self.self;\n    return addHeapObject(ret);\n}, arguments) };\n\nexport function __wbg_window_c6fb939a7f436783() { return handleError(function () {\n    const ret = window.window;\n    return addHeapObject(ret);\n}, arguments) };\n\nexport function __wbg_globalThis_d1e6af4856ba331b() { return handleError(function () {\n    const ret = globalThis.globalThis;\n    return addHeapObject(ret);\n}, arguments) };\n\nexport function __wbg_global_207b558942527489() { return handleError(function () {\n    const ret = global.global;\n    return addHeapObject(ret);\n}, arguments) };\n\nexport function __wbindgen_is_undefined(arg0) {\n    const ret = getObject(arg0) === undefined;\n    return ret;\n};\n\nexport function __wbg_newnoargs_e258087cd0daa0ea(arg0, arg1) {\n    const ret = new Function(getStringFromWasm0(arg0, arg1));\n    return addHeapObject(ret);\n};\n\nexport function __wbg_length_cd7af8117672b8b8(arg0) {\n    const ret = getObject(arg0).length;\n    return ret;\n};\n\nexport function __wbg_new_16b304a2cfa7ff4a() {\n    const ret = new Array();\n    return addHeapObject(ret);\n};\n\nexport function __wbg_new_d9bc3a0147634640() {\n    const ret = new Map();\n    return addHeapObject(ret);\n};\n\nexport function __wbg_next_40fc327bfc8770e6(arg0) {\n    const ret = getObject(arg0).next;\n    return addHeapObject(ret);\n};\n\nexport function __wbg_value_d93c65011f51a456(arg0) {\n    const ret = getObject(arg0).value;\n    return addHeapObject(ret);\n};\n\nexport function __wbg_iterator_2cee6dadfd956dfa() {\n    const ret = Symbol.iterator;\n    return addHeapObject(ret);\n};\n\nexport function __wbg_new_72fb9a18b5ae2624() {\n    const ret = new Object();\n    return addHeapObject(ret);\n};\n\nexport function __wbg_get_bd8e338fbd5f5cc8(arg0, arg1) {\n    const ret = getObject(arg0)[arg1 >>> 0];\n    return addHeapObject(ret);\n};\n\nexport function __wbg_set_d4638f722068f043(arg0, arg1, arg2) {\n    getObject(arg0)[arg1 >>> 0] = takeObject(arg2);\n};\n\nexport function __wbg_isArray_2ab64d95e09ea0ae(arg0) {\n    const ret = Array.isArray(getObject(arg0));\n    return ret;\n};\n\nexport function __wbg_instanceof_ArrayBuffer_836825be07d4c9d2(arg0) {\n    let result;\n    try {\n        result = getObject(arg0) instanceof ArrayBuffer;\n    } catch (_) {\n        result = false;\n    }\n    const ret = result;\n    return ret;\n};\n\nexport function __wbg_call_27c0f87801dedf93() { return handleError(function (arg0, arg1) {\n    const ret = getObject(arg0).call(getObject(arg1));\n    return addHeapObject(ret);\n}, arguments) };\n\nexport function __wbg_call_b3ca7c6051f9bec1() { return handleError(function (arg0, arg1, arg2) {\n    const ret = getObject(arg0).call(getObject(arg1), getObject(arg2));\n    return addHeapObject(ret);\n}, arguments) };\n\nexport function __wbg_set_8417257aaedc936b(arg0, arg1, arg2) {\n    const ret = getObject(arg0).set(getObject(arg1), getObject(arg2));\n    return addHeapObject(ret);\n};\n\nexport function __wbg_next_196c84450b364254() { return handleError(function (arg0) {\n    const ret = getObject(arg0).next();\n    return addHeapObject(ret);\n}, arguments) };\n\nexport function __wbg_done_298b57d23c0fc80c(arg0) {\n    const ret = getObject(arg0).done;\n    return ret;\n};\n\nexport function __wbg_entries_95cc2c823b285a09(arg0) {\n    const ret = Object.entries(getObject(arg0));\n    return addHeapObject(ret);\n};\n\nexport function __wbg_get_e3c254076557e348() { return handleError(function (arg0, arg1) {\n    const ret = Reflect.get(getObject(arg0), getObject(arg1));\n    return addHeapObject(ret);\n}, arguments) };\n\nexport function __wbg_buffer_12d079cc21e14bdb(arg0) {\n    const ret = getObject(arg0).buffer;\n    return addHeapObject(ret);\n};\n\nexport function __wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb(arg0, arg1, arg2) {\n    const ret = new Uint8Array(getObject(arg0), arg1 >>> 0, arg2 >>> 0);\n    return addHeapObject(ret);\n};\n\nexport function __wbg_new_63b92bc8671ed464(arg0) {\n    const ret = new Uint8Array(getObject(arg0));\n    return addHeapObject(ret);\n};\n\nexport function __wbg_instanceof_Uint8Array_2b3bbecd033d19f6(arg0) {\n    let result;\n    try {\n        result = getObject(arg0) instanceof Uint8Array;\n    } catch (_) {\n        result = false;\n    }\n    const ret = result;\n    return ret;\n};\n\nexport function __wbg_newwithlength_e9b4878cebadb3d3(arg0) {\n    const ret = new Uint8Array(arg0 >>> 0);\n    return addHeapObject(ret);\n};\n\nexport function __wbg_subarray_a1f73cd4b5b42fe1(arg0, arg1, arg2) {\n    const ret = getObject(arg0).subarray(arg1 >>> 0, arg2 >>> 0);\n    return addHeapObject(ret);\n};\n\nexport function __wbg_length_c20a40f15020d68a(arg0) {\n    const ret = getObject(arg0).length;\n    return ret;\n};\n\nexport function __wbg_set_a47bac70306a19a7(arg0, arg1, arg2) {\n    getObject(arg0).set(getObject(arg1), arg2 >>> 0);\n};\n\nexport function __wbindgen_debug_string(arg0, arg1) {\n    const ret = debugString(getObject(arg1));\n    const ptr1 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n    const len1 = WASM_VECTOR_LEN;\n    getInt32Memory0()[arg0 / 4 + 1] = len1;\n    getInt32Memory0()[arg0 / 4 + 0] = ptr1;\n};\n\nexport function __wbindgen_throw(arg0, arg1) {\n    throw new Error(getStringFromWasm0(arg0, arg1));\n};\n\nexport function __wbindgen_memory() {\n    const ret = wasm.memory;\n    return addHeapObject(ret);\n};\n\n","/* jshint browser: true */\n\n(function () {\n\n// We'll copy the properties below into the mirror div.\n// Note that some browsers, such as Firefox, do not concatenate properties\n// into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),\n// so we have to list every single property explicitly.\nvar properties = [\n  'direction',  // RTL support\n  'boxSizing',\n  'width',  // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY',  // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration',  // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize'\n\n];\n\nvar isBrowser = (typeof window !== 'undefined');\nvar isFirefox = (isBrowser && window.mozInnerScreenX != null);\n\nfunction getCaretCoordinates(element, position, options) {\n  if (!isBrowser) {\n    throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');\n  }\n\n  var debug = options && options.debug || false;\n  if (debug) {\n    var el = document.querySelector('#input-textarea-caret-position-mirror-div');\n    if (el) el.parentNode.removeChild(el);\n  }\n\n  // The mirror div will replicate the textarea's style\n  var div = document.createElement('div');\n  div.id = 'input-textarea-caret-position-mirror-div';\n  document.body.appendChild(div);\n\n  var style = div.style;\n  var computed = window.getComputedStyle ? window.getComputedStyle(element) : element.currentStyle;  // currentStyle for IE < 9\n  var isInput = element.nodeName === 'INPUT';\n\n  // Default textarea styles\n  style.whiteSpace = 'pre-wrap';\n  if (!isInput)\n    style.wordWrap = 'break-word';  // only for textarea-s\n\n  // Position off-screen\n  style.position = 'absolute';  // required to return coordinates properly\n  if (!debug)\n    style.visibility = 'hidden';  // not 'display: none' because we want rendering\n\n  // Transfer the element's properties to the div\n  properties.forEach(function (prop) {\n    if (isInput && prop === 'lineHeight') {\n      // Special case for <input>s because text is rendered centered and line height may be != height\n      style.lineHeight = computed.height;\n    } else {\n      style[prop] = computed[prop];\n    }\n  });\n\n  if (isFirefox) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > parseInt(computed.height))\n      style.overflowY = 'scroll';\n  } else {\n    style.overflow = 'hidden';  // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, position);\n  // The second special handling for input type=\"text\" vs textarea:\n  // spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n  if (isInput)\n    div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n\n  var span = document.createElement('span');\n  // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // For inputs, just '.' would be enough, but no need to bother.\n  span.textContent = element.value.substring(position) || '.';  // || because a completely empty faux span doesn't render at all\n  div.appendChild(span);\n\n  var coordinates = {\n    top: span.offsetTop + parseInt(computed['borderTopWidth']),\n    left: span.offsetLeft + parseInt(computed['borderLeftWidth']),\n    height: parseInt(computed['lineHeight'])\n  };\n\n  if (debug) {\n    span.style.backgroundColor = '#aaa';\n  } else {\n    document.body.removeChild(div);\n  }\n\n  return coordinates;\n}\n\nif (typeof module != 'undefined' && typeof module.exports != 'undefined') {\n  module.exports = getCaretCoordinates;\n} else if(isBrowser) {\n  window.getCaretCoordinates = getCaretCoordinates;\n}\n\n}());\n","import { default as AfrimInput } from \"./index\";\n\nif (process.env.NODE_ENV !== \"production\") {\n  console.log(\"[afrim-input] Looks like we are in development mode!\");\n}\n\nexport { AfrimInput };\n","\"use strict\";\n\nimport { httpGet, tomlToJson } from \"./utils\";\n\n// Handle the Afrim configuration.\nexport class AfrimConfig {\n  data: { [key: string]: string } = {};\n  translation: { [key: string]: string[] } = {};\n  translators: { [key: string]: string } = {};\n\n  // Initialize an AfrimConfig instance.\n  constructor() {}\n\n  // Load the configuration file from an URL.\n  async loadFromUrl(configUrl: string) {\n    const data = await httpGet(configUrl);\n    const content = await tomlToJson(data);\n    let auto_capitalize = false;\n\n    if (content.has(\"core\")) {\n      auto_capitalize = content.get(\"core\").get(\"auto_capitalize\") || false;\n    }\n\n    if (content.has(\"translation\")) {\n      for (const translation of content.get(\"translation\")) {\n        const key = translation[0];\n        const value = translation[1];\n\n        // We extract the translation.\n        if (typeof value == \"string\") {\n          this.translation[key] = [value];\n        } else if (value.has(\"path\")) {\n          await this.loadFromUrl(new URL(value.get(\"path\"), configUrl).href);\n        } else if (value.has(\"alias\")) {\n          let data = null;\n\n          if (value.has(\"values\")) {\n            data = value.get(\"values\");\n          } else {\n            data = [value.get(\"value\")];\n          }\n\n          for (const alias of value.get(\"alias\")) {\n            this.translation[alias] = data;\n          }\n          this.translation[key] = data;\n        } else {\n          throw new Error(`load config error: ${value} unexpected`);\n        }\n      }\n    }\n\n    // We extract the data.\n    if (content.has(\"data\")) {\n      for (const data of content.get(\"data\")) {\n        const key = data[0];\n        const value = data[1];\n\n        if (typeof value == \"string\") {\n          this.data[key] = value;\n        } else if (value.has(\"path\")) {\n          await this.loadFromUrl(new URL(value.get(\"path\"), configUrl).href);\n        } else if (value.has(\"alias\")) {\n          const data = value.get(\"value\");\n          for (const alias of value.get(\"alias\")) {\n            this.data[alias] = data;\n\n            if (auto_capitalize) {\n              this.data[data[0].toUpperCase() + data.slice(1)] =\n                data.toUpperCase();\n            }\n          }\n          this.data[key] = data;\n\n          if (auto_capitalize) {\n            this.data[key[0].toUpperCase() + key.slice(1)] = data.toUpperCase();\n          }\n        } else {\n          throw new Error(`load config error: ${value} unexpected`);\n        }\n      }\n    }\n\n    // We extract the translators.\n    if (content.has(\"translators\")) {\n      for (const translator of content.get(\"translators\")) {\n        const key = translator[0];\n        const value = translator[1];\n        const data = await httpGet(new URL(value, configUrl).href);\n\n        this.translators[key] = data;\n      }\n    }\n  }\n}\n","\"use strict\";\n\nimport type { Preprocessor, Translator } from \"afrim-js\";\nimport { AfrimConfig } from \"./config\";\n\ntype Option = {\n  textFieldElementID: string;\n  downloadStatusElementID: string;\n  tooltipElementID: string;\n  tooltipInputElementID: string;\n  tooltipPredicatesElementID: string;\n  tooltipPredicateClass: string;\n  tooltipAdjustLeft: number;\n  tooltipAdjustTop: number;\n  configUrl: string;\n};\n\ntype Predicate = {\n  id: number;\n  code: string;\n  remainingCode: string;\n  texts: string[];\n  canCommit: boolean;\n};\n\n// Afrim Input library.\nexport default class AfrimInput {\n  // For bindings.\n  private textFieldElement: HTMLInputElement;\n  private downloadStatusElement: HTMLElement;\n  private tooltipElement: HTMLElement;\n  private tooltipInputElement: HTMLElement;\n  private tooltipPredicatesElement: HTMLElement;\n\n  // Afrim library.\n  private preprocessor?: Preprocessor;\n  private translator?: Translator;\n\n  // Data\n  private data: {\n    predicates: Predicate[];\n    predicateId: number;\n    pageSize: number;\n    isIdle: boolean;\n    cursorPos: number;\n    options: Option;\n  };\n\n  private animation: number = 0;\n\n  // Initialize the Afrim Input instance.\n  constructor(options: Option) {\n    let defaultOptions: Option = {\n      textFieldElementID: \"textfield\",\n      downloadStatusElementID: \"download-status\",\n      tooltipElementID: \"tooltip\",\n      tooltipInputElementID: \"tooltip-input\",\n      tooltipPredicatesElementID: \"tooltip-predicates\",\n      tooltipPredicateClass: \"dropdown-item\",\n      tooltipAdjustLeft: 0,\n      tooltipAdjustTop: 0,\n      configUrl:\n        \"https://raw.githubusercontent.com/fodydev/afrim-data/4b177197bb37c9742cd90627b1ad543c32ec791b/gez/gez.toml\",\n    };\n\n    // merge the options passed in with our default options\n    // properties that exist in the incoming options object will overwrite that in the defaultOptions\n    options = { ...defaultOptions, ...options };\n\n    // Binding\n    var _ = document.getElementById(options.textFieldElementID);\n    if (_) {\n      this.textFieldElement = _ as HTMLInputElement;\n    } else {\n      throw new Error(\n        `element with id ${options.textFieldElementID} not found`,\n      );\n    }\n\n    var _ = document.getElementById(options.downloadStatusElementID);\n    if (_) {\n      this.downloadStatusElement = _ as HTMLElement;\n    } else {\n      throw new Error(`element with id ${options.downloadStatusElementID}`);\n    }\n\n    var _ = document.getElementById(options.tooltipElementID);\n    if (_) {\n      this.tooltipElement = _ as HTMLElement;\n    } else {\n      throw new Error(`element with id ${options.tooltipElementID}`);\n    }\n\n    var _ = document.getElementById(options.tooltipInputElementID);\n    if (_) {\n      this.tooltipInputElement = _ as HTMLElement;\n    } else {\n      throw new Error(`element with id ${options.tooltipInputElementID}`);\n    }\n\n    var _ = document.getElementById(options.tooltipPredicatesElementID);\n    if (_) {\n      this.tooltipPredicatesElement = _ as HTMLElement;\n    } else {\n      throw new Error(`element with id ${options.tooltipPredicatesElementID}`);\n    }\n\n    // Save options\n    this.data = {\n      predicates: Array(),\n      predicateId: 0,\n      pageSize: 5,\n      isIdle: false,\n      cursorPos: 0,\n      options: options,\n    };\n\n    // Prevent another afrim instance.\n    if (this.textFieldElement.dataset.lock) {\n      throw new Error(\"An afrim instance is already linked to this element.\");\n    }\n\n    this.textFieldElement.dataset.lock = \"true\";\n\n    // We wait that the afrim ime engine is ready.\n    // We mark the text field busy.\n    this.textFieldElement.disabled = true;\n    this.downloadStatusElement.hidden = false;\n\n    this.loadConfigFromUrl(options.configUrl).then(\n      async (config: AfrimConfig) => {\n        await this.initAfrim(config);\n        this.listenKeyboard();\n        this.listenMouse();\n        this.listenTextFieldState();\n\n        // We start the processor.\n        this.processCommand();\n\n        // We mark the text field available.\n        this.textFieldElement.disabled = false;\n        this.downloadStatusElement.hidden = true;\n      },\n      (err) => {\n        console.error(`Error downloading configuration file: ${err}`);\n      },\n    );\n  }\n\n  // Clear the predicates.\n  private clearPredicate() {\n    this.tooltipPredicatesElement.innerHTML = \"\";\n\n    this.data.predicateId = 0;\n    this.data.predicates = Array();\n  }\n\n  // Load predicates in the memory\n  private loadPredicates(predicates: any) {\n    this.clearPredicate();\n    var predicateId = 0;\n\n    for (const predicate of predicates) {\n      for (const text of predicate.texts) {\n        this.data.predicates.push({\n          id: ++predicateId,\n          code: predicate.code,\n          remainingCode: predicate.remaining_code,\n          texts: [text],\n          canCommit: predicate.can_commit,\n        });\n      }\n    }\n  }\n\n  // Update the predicates.\n  private updatePredicate() {\n    this.tooltipPredicatesElement.innerHTML = \"\";\n\n    // We get the current the page\n    const predicates = this.data.predicates\n      .slice(this.data.predicateId, this.data.predicates.length)\n      .concat(this.data.predicates.slice(0, this.data.predicateId));\n\n    let forloopCounter = 0;\n    for (const predicate of predicates) {\n      // Mark the selected predicate.\n      const icon = forloopCounter == 0 ? \"✏️\" : \"\";\n\n      if (forloopCounter++ > this.data.pageSize) break;\n\n      // Config the tooltip predicate element.\n      const predicateElement = document.createElement(\"a\");\n      predicateElement.classList.add(this.data.options.tooltipPredicateClass);\n      predicateElement.innerText = `${icon} ${predicate.id}. ${predicate.texts[0]} ~${predicate.remainingCode}`;\n      for (let event of [\"pointerdown\", \"click\"]) {\n        predicateElement.addEventListener(\n          event,\n          () => {\n            this.preprocessor?.commit(predicate.texts[0]);\n            this.preprocessor?.process(\"\", \"keydown\");\n            this.clearPredicate();\n          },\n          false,\n        );\n      }\n      this.tooltipPredicatesElement.append(predicateElement);\n    }\n  }\n\n  // Restore cursor position.\n  private restoreCursorPosition() {\n    this.textFieldElement.focus();\n    this.textFieldElement.setSelectionRange(\n      this.data.cursorPos,\n      this.data.cursorPos,\n    );\n  }\n\n  // We execute preprocessor commands in IDLE.\n  private processCommand() {\n    const cmd = this.preprocessor?.popQueue();\n    const textValue = this.textFieldElement.value;\n\n    this.data.cursorPos = this.data.cursorPos < 0 ? 0 : this.data.cursorPos;\n\n    if (cmd) {\n      if (cmd == \"Delete\") {\n        this.textFieldElement.value =\n          textValue.substring(0, this.data.cursorPos - 1) +\n          textValue.substring(this.data.cursorPos, textValue.length);\n        this.data.cursorPos--;\n        this.restoreCursorPosition();\n      } else if (cmd == \"Pause\") {\n        this.data.isIdle = true;\n      } else if (cmd == \"Resume\") {\n        this.data.isIdle = false;\n      } else if (cmd == \"NOP\") {\n      } else if (cmd.CommitText) {\n        this.textFieldElement.value =\n          textValue.substring(0, this.data.cursorPos) +\n          cmd.CommitText +\n          textValue.substring(this.data.cursorPos, textValue.length);\n        this.data.cursorPos += cmd.CommitText.length;\n        this.restoreCursorPosition();\n      } else {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.error(`afrim command \"${cmd}\" unsupported.`);\n        }\n      }\n    }\n\n    this.animation = requestAnimationFrame(() => this.processCommand());\n  }\n\n  private async loadConfigFromUrl(configUrl: string) {\n    // We download the datalang.\n    let afrimConfig = new AfrimConfig();\n    await afrimConfig.loadFromUrl(configUrl);\n\n    return afrimConfig;\n  }\n\n  // We config the afrim ime.\n  private async initAfrim(config: AfrimConfig) {\n    const afrim = await require(\"afrim-js\");\n\n    this.preprocessor = new afrim.Preprocessor(config.data, 64);\n    this.translator = new afrim.Translator(config.translation, false);\n\n    for (let e of Object.entries(config.translators)) {\n      this.translator?.register(e[0], e[1]);\n    }\n  }\n\n  private listenKeyboard() {\n    // We listen keyboard events.\n    this.textFieldElement.addEventListener(\n      \"keyup\",\n      (event) => {\n        this.data.cursorPos = this.textFieldElement.selectionEnd ?? 0;\n\n        // We manage special keys.\n        if (event.ctrlKey) {\n          // Previous predicate.\n          if (event.code == \"ShiftLeft\") {\n            this.data.predicateId =\n              this.data.predicateId < 1\n                ? this.data.predicates.length - 1\n                : this.data.predicateId - 1;\n            this.updatePredicate();\n          }\n          // Next predicate.\n          else if (event.code == \"ShiftRight\") {\n            this.data.predicateId =\n              this.data.predicateId >= this.data.predicates.length - 1\n                ? 0\n                : this.data.predicateId + 1;\n            this.updatePredicate();\n          }\n          // Commit the predicate.\n          else if (event.code == \"Space\") {\n            var predicate = this.data.predicates[this.data.predicateId];\n\n            if (predicate) this.preprocessor?.commit(predicate.texts[0]);\n            this.clearPredicate();\n          } else if (\n            event.code == \"ControlLeft\" ||\n            event.code == \"ControlRight\"\n          ) {\n            this.data.isIdle = !this.data.isIdle;\n          }\n\n          return;\n        }\n\n        if (event.key == \"GroupPrevious\" || event.key == \"GroupNext\") return;\n        if (this.data.isIdle) return;\n\n        const changed = this.preprocessor?.process(event.key, \"keydown\");\n        const input = this.preprocessor?.getInput() || \"\";\n\n        // We update the predicates if input changed.\n        if (!changed) return;\n\n        this.tooltipInputElement.innerText = \"📝 \" + input;\n\n        const predicates = this.translator?.translate(input);\n        this.loadPredicates(predicates);\n        this.updatePredicate();\n      },\n      false,\n    );\n  }\n\n  private listenMouse() {\n    // Make the tooltip follow the mouse.\n    this.textFieldElement.addEventListener(\n      \"keyup\",\n      (event) => {\n        const getCaretCoordinates = require(\"textarea-caret\");\n        const caret = getCaretCoordinates(\n          this.textFieldElement,\n          this.textFieldElement.selectionEnd,\n        );\n\n        this.tooltipElement.style.top =\n          this.data.options.tooltipAdjustTop +\n          this.textFieldElement.offsetTop -\n          this.textFieldElement.scrollTop +\n          caret.top +\n          \"px\";\n        this.tooltipElement.style.left =\n          this.data.options.tooltipAdjustLeft +\n          this.textFieldElement.offsetLeft -\n          this.textFieldElement.scrollLeft +\n          caret.left +\n          \"px\";\n      },\n      false,\n    );\n  }\n\n  private listenTextFieldState() {\n    // Make the tooltip active inside of the textfield.\n    for (let event of [\"click\", \"touchstart\"]) {\n      this.textFieldElement.addEventListener(\n        event,\n        () => {\n          this.tooltipElement.classList.add(\"is-active\");\n          this.preprocessor?.process(\"\", \"keydown\");\n          this.clearPredicate();\n        },\n        false,\n      );\n    }\n\n    // Hide the tooltip if not typing\n    this.textFieldElement.addEventListener(\"blur\", (e) => {\n      this.tooltipElement.classList.remove(\"is-active\");\n    });\n  }\n\n  // Interrupt the Afrim has detach it from the linked textfield.\n  kill() {\n    cancelAnimationFrame(this.animation);\n\n    this.textFieldElement.replaceWith(this.textFieldElement.cloneNode(true));\n    this.translator?.free();\n    this.preprocessor?.free();\n\n    delete this.textFieldElement.dataset.lock;\n  }\n}\n","\"use strict\";\n\nimport ky from \"ky\";\n\n// Convert TOML to JSON.\nexport async function tomlToJson(data: string) {\n  const afrim = await require(\"afrim-js\");\n\n  return afrim.convertTomlToJson(data);\n}\n\n// Make a http get request.\n// HTTP because we want a fast request.\nexport async function httpGet(url: string) {\n  const response = await ky(url);\n\n  if (!response.ok) throw new Error(`Fetch error: ${response.statusText}`);\n\n  return await response.text();\n}\n","export class HTTPError extends Error {\n    response;\n    request;\n    options;\n    constructor(response, request, options) {\n        const code = (response.status || response.status === 0) ? response.status : '';\n        const title = response.statusText || '';\n        const status = `${code} ${title}`.trim();\n        const reason = status ? `status code ${status}` : 'an unknown error';\n        super(`Request failed with ${reason}: ${request.method} ${request.url}`);\n        this.name = 'HTTPError';\n        this.response = response;\n        this.request = request;\n        this.options = options;\n    }\n}\n//# sourceMappingURL=HTTPError.js.map","export class TimeoutError extends Error {\n    request;\n    constructor(request) {\n        super(`Request timed out: ${request.method} ${request.url}`);\n        this.name = 'TimeoutError';\n        this.request = request;\n    }\n}\n//# sourceMappingURL=TimeoutError.js.map","// eslint-disable-next-line @typescript-eslint/ban-types\nexport const isObject = (value) => value !== null && typeof value === 'object';\n//# sourceMappingURL=is.js.map","import { isObject } from './is.js';\nexport const validateAndMerge = (...sources) => {\n    for (const source of sources) {\n        if ((!isObject(source) || Array.isArray(source)) && source !== undefined) {\n            throw new TypeError('The `options` argument must be an object');\n        }\n    }\n    return deepMerge({}, ...sources);\n};\nexport const mergeHeaders = (source1 = {}, source2 = {}) => {\n    const result = new globalThis.Headers(source1);\n    const isHeadersInstance = source2 instanceof globalThis.Headers;\n    const source = new globalThis.Headers(source2);\n    for (const [key, value] of source.entries()) {\n        if ((isHeadersInstance && value === 'undefined') || value === undefined) {\n            result.delete(key);\n        }\n        else {\n            result.set(key, value);\n        }\n    }\n    return result;\n};\nfunction newHookValue(original, incoming, property) {\n    return (Object.hasOwn(incoming, property) && incoming[property] === undefined)\n        ? []\n        : deepMerge(original[property] ?? [], incoming[property] ?? []);\n}\nexport const mergeHooks = (original = {}, incoming = {}) => ({\n    beforeRequest: newHookValue(original, incoming, 'beforeRequest'),\n    beforeRetry: newHookValue(original, incoming, 'beforeRetry'),\n    afterResponse: newHookValue(original, incoming, 'afterResponse'),\n    beforeError: newHookValue(original, incoming, 'beforeError'),\n});\n// TODO: Make this strongly-typed (no `any`).\nexport const deepMerge = (...sources) => {\n    let returnValue = {};\n    let headers = {};\n    let hooks = {};\n    for (const source of sources) {\n        if (Array.isArray(source)) {\n            if (!Array.isArray(returnValue)) {\n                returnValue = [];\n            }\n            returnValue = [...returnValue, ...source];\n        }\n        else if (isObject(source)) {\n            for (let [key, value] of Object.entries(source)) {\n                if (isObject(value) && key in returnValue) {\n                    value = deepMerge(returnValue[key], value);\n                }\n                returnValue = { ...returnValue, [key]: value };\n            }\n            if (isObject(source.hooks)) {\n                hooks = mergeHooks(hooks, source.hooks);\n                returnValue.hooks = hooks;\n            }\n            if (isObject(source.headers)) {\n                headers = mergeHeaders(headers, source.headers);\n                returnValue.headers = headers;\n            }\n        }\n    }\n    return returnValue;\n};\n//# sourceMappingURL=merge.js.map","export const supportsRequestStreams = (() => {\n    let duplexAccessed = false;\n    let hasContentType = false;\n    const supportsReadableStream = typeof globalThis.ReadableStream === 'function';\n    const supportsRequest = typeof globalThis.Request === 'function';\n    if (supportsReadableStream && supportsRequest) {\n        try {\n            hasContentType = new globalThis.Request('https://empty.invalid', {\n                body: new globalThis.ReadableStream(),\n                method: 'POST',\n                // @ts-expect-error - Types are outdated.\n                get duplex() {\n                    duplexAccessed = true;\n                    return 'half';\n                },\n            }).headers.has('Content-Type');\n        }\n        catch (error) {\n            // QQBrowser on iOS throws \"unsupported BodyInit type\" error (see issue #581)\n            if (error instanceof Error && error.message === 'unsupported BodyInit type') {\n                return false;\n            }\n            throw error;\n        }\n    }\n    return duplexAccessed && !hasContentType;\n})();\nexport const supportsAbortController = typeof globalThis.AbortController === 'function';\nexport const supportsResponseStreams = typeof globalThis.ReadableStream === 'function';\nexport const supportsFormData = typeof globalThis.FormData === 'function';\nexport const requestMethods = ['get', 'post', 'put', 'patch', 'head', 'delete'];\nconst validate = () => undefined;\nvalidate();\nexport const responseTypes = {\n    json: 'application/json',\n    text: 'text/*',\n    formData: 'multipart/form-data',\n    arrayBuffer: '*/*',\n    blob: '*/*',\n};\n// The maximum value of a 32bit int (see issue #117)\nexport const maxSafeTimeout = 2_147_483_647;\nexport const stop = Symbol('stop');\nexport const kyOptionKeys = {\n    json: true,\n    parseJson: true,\n    stringifyJson: true,\n    searchParams: true,\n    prefixUrl: true,\n    retry: true,\n    timeout: true,\n    hooks: true,\n    throwHttpErrors: true,\n    onDownloadProgress: true,\n    fetch: true,\n};\nexport const requestOptionsRegistry = {\n    method: true,\n    headers: true,\n    body: true,\n    mode: true,\n    credentials: true,\n    cache: true,\n    redirect: true,\n    referrer: true,\n    referrerPolicy: true,\n    integrity: true,\n    keepalive: true,\n    signal: true,\n    window: true,\n    dispatcher: true,\n    duplex: true,\n    priority: true,\n};\n//# sourceMappingURL=constants.js.map","import { requestMethods } from '../core/constants.js';\nexport const normalizeRequestMethod = (input) => requestMethods.includes(input) ? input.toUpperCase() : input;\nconst retryMethods = ['get', 'put', 'head', 'delete', 'options', 'trace'];\nconst retryStatusCodes = [408, 413, 429, 500, 502, 503, 504];\nconst retryAfterStatusCodes = [413, 429, 503];\nconst defaultRetryOptions = {\n    limit: 2,\n    methods: retryMethods,\n    statusCodes: retryStatusCodes,\n    afterStatusCodes: retryAfterStatusCodes,\n    maxRetryAfter: Number.POSITIVE_INFINITY,\n    backoffLimit: Number.POSITIVE_INFINITY,\n    delay: attemptCount => 0.3 * (2 ** (attemptCount - 1)) * 1000,\n};\nexport const normalizeRetryOptions = (retry = {}) => {\n    if (typeof retry === 'number') {\n        return {\n            ...defaultRetryOptions,\n            limit: retry,\n        };\n    }\n    if (retry.methods && !Array.isArray(retry.methods)) {\n        throw new Error('retry.methods must be an array');\n    }\n    if (retry.statusCodes && !Array.isArray(retry.statusCodes)) {\n        throw new Error('retry.statusCodes must be an array');\n    }\n    return {\n        ...defaultRetryOptions,\n        ...retry,\n    };\n};\n//# sourceMappingURL=normalize.js.map","import { HTTPError } from '../errors/HTTPError.js';\nimport { TimeoutError } from '../errors/TimeoutError.js';\nimport { mergeHeaders, mergeHooks } from '../utils/merge.js';\nimport { normalizeRequestMethod, normalizeRetryOptions } from '../utils/normalize.js';\nimport timeout from '../utils/timeout.js';\nimport delay from '../utils/delay.js';\nimport { findUnknownOptions } from '../utils/options.js';\nimport { maxSafeTimeout, responseTypes, stop, supportsAbortController, supportsFormData, supportsResponseStreams, supportsRequestStreams, } from './constants.js';\nexport class Ky {\n    static create(input, options) {\n        const ky = new Ky(input, options);\n        const function_ = async () => {\n            if (typeof ky._options.timeout === 'number' && ky._options.timeout > maxSafeTimeout) {\n                throw new RangeError(`The \\`timeout\\` option cannot be greater than ${maxSafeTimeout}`);\n            }\n            // Delay the fetch so that body method shortcuts can set the Accept header\n            await Promise.resolve();\n            let response = await ky._fetch();\n            for (const hook of ky._options.hooks.afterResponse) {\n                // eslint-disable-next-line no-await-in-loop\n                const modifiedResponse = await hook(ky.request, ky._options, ky._decorateResponse(response.clone()));\n                if (modifiedResponse instanceof globalThis.Response) {\n                    response = modifiedResponse;\n                }\n            }\n            ky._decorateResponse(response);\n            if (!response.ok && ky._options.throwHttpErrors) {\n                let error = new HTTPError(response, ky.request, ky._options);\n                for (const hook of ky._options.hooks.beforeError) {\n                    // eslint-disable-next-line no-await-in-loop\n                    error = await hook(error);\n                }\n                throw error;\n            }\n            // If `onDownloadProgress` is passed, it uses the stream API internally\n            /* istanbul ignore next */\n            if (ky._options.onDownloadProgress) {\n                if (typeof ky._options.onDownloadProgress !== 'function') {\n                    throw new TypeError('The `onDownloadProgress` option must be a function');\n                }\n                if (!supportsResponseStreams) {\n                    throw new Error('Streams are not supported in your environment. `ReadableStream` is missing.');\n                }\n                return ky._stream(response.clone(), ky._options.onDownloadProgress);\n            }\n            return response;\n        };\n        const isRetriableMethod = ky._options.retry.methods.includes(ky.request.method.toLowerCase());\n        const result = (isRetriableMethod ? ky._retry(function_) : function_());\n        for (const [type, mimeType] of Object.entries(responseTypes)) {\n            result[type] = async () => {\n                // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n                ky.request.headers.set('accept', ky.request.headers.get('accept') || mimeType);\n                const awaitedResult = await result;\n                const response = awaitedResult.clone();\n                if (type === 'json') {\n                    if (response.status === 204) {\n                        return '';\n                    }\n                    const arrayBuffer = await response.clone().arrayBuffer();\n                    const responseSize = arrayBuffer.byteLength;\n                    if (responseSize === 0) {\n                        return '';\n                    }\n                    if (options.parseJson) {\n                        return options.parseJson(await response.text());\n                    }\n                }\n                return response[type]();\n            };\n        }\n        return result;\n    }\n    request;\n    abortController;\n    _retryCount = 0;\n    _input;\n    _options;\n    // eslint-disable-next-line complexity\n    constructor(input, options = {}) {\n        this._input = input;\n        this._options = {\n            ...options,\n            headers: mergeHeaders(this._input.headers, options.headers),\n            hooks: mergeHooks({\n                beforeRequest: [],\n                beforeRetry: [],\n                beforeError: [],\n                afterResponse: [],\n            }, options.hooks),\n            method: normalizeRequestMethod(options.method ?? this._input.method),\n            // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n            prefixUrl: String(options.prefixUrl || ''),\n            retry: normalizeRetryOptions(options.retry),\n            throwHttpErrors: options.throwHttpErrors !== false,\n            timeout: options.timeout ?? 10_000,\n            fetch: options.fetch ?? globalThis.fetch.bind(globalThis),\n        };\n        if (typeof this._input !== 'string' && !(this._input instanceof URL || this._input instanceof globalThis.Request)) {\n            throw new TypeError('`input` must be a string, URL, or Request');\n        }\n        if (this._options.prefixUrl && typeof this._input === 'string') {\n            if (this._input.startsWith('/')) {\n                throw new Error('`input` must not begin with a slash when using `prefixUrl`');\n            }\n            if (!this._options.prefixUrl.endsWith('/')) {\n                this._options.prefixUrl += '/';\n            }\n            this._input = this._options.prefixUrl + this._input;\n        }\n        if (supportsAbortController) {\n            this.abortController = new globalThis.AbortController();\n            const originalSignal = this._options.signal ?? this._input.signal;\n            originalSignal?.addEventListener('abort', () => {\n                this.abortController.abort(originalSignal.reason);\n            });\n            this._options.signal = this.abortController.signal;\n        }\n        if (supportsRequestStreams) {\n            // @ts-expect-error - Types are outdated.\n            this._options.duplex = 'half';\n        }\n        if (this._options.json !== undefined) {\n            this._options.body = this._options.stringifyJson?.(this._options.json) ?? JSON.stringify(this._options.json);\n            this._options.headers.set('content-type', this._options.headers.get('content-type') ?? 'application/json');\n        }\n        this.request = new globalThis.Request(this._input, this._options);\n        if (this._options.searchParams) {\n            // eslint-disable-next-line unicorn/prevent-abbreviations\n            const textSearchParams = typeof this._options.searchParams === 'string'\n                ? this._options.searchParams.replace(/^\\?/, '')\n                : new URLSearchParams(this._options.searchParams).toString();\n            // eslint-disable-next-line unicorn/prevent-abbreviations\n            const searchParams = '?' + textSearchParams;\n            const url = this.request.url.replace(/(?:\\?.*?)?(?=#|$)/, searchParams);\n            // To provide correct form boundary, Content-Type header should be deleted each time when new Request instantiated from another one\n            if (((supportsFormData && this._options.body instanceof globalThis.FormData)\n                || this._options.body instanceof URLSearchParams) && !(this._options.headers && this._options.headers['content-type'])) {\n                this.request.headers.delete('content-type');\n            }\n            // The spread of `this.request` is required as otherwise it misses the `duplex` option for some reason and throws.\n            this.request = new globalThis.Request(new globalThis.Request(url, { ...this.request }), this._options);\n        }\n    }\n    _calculateRetryDelay(error) {\n        this._retryCount++;\n        if (this._retryCount > this._options.retry.limit || error instanceof TimeoutError) {\n            throw error;\n        }\n        if (error instanceof HTTPError) {\n            if (!this._options.retry.statusCodes.includes(error.response.status)) {\n                throw error;\n            }\n            const retryAfter = error.response.headers.get('Retry-After')\n                ?? error.response.headers.get('RateLimit-Reset')\n                ?? error.response.headers.get('X-RateLimit-Reset') // GitHub\n                ?? error.response.headers.get('X-Rate-Limit-Reset'); // Twitter\n            if (retryAfter && this._options.retry.afterStatusCodes.includes(error.response.status)) {\n                let after = Number(retryAfter) * 1000;\n                if (Number.isNaN(after)) {\n                    after = Date.parse(retryAfter) - Date.now();\n                }\n                else if (after >= Date.parse('2024-01-01')) {\n                    // A large number is treated as a timestamp (fixed threshold protects against clock skew)\n                    after -= Date.now();\n                }\n                const max = this._options.retry.maxRetryAfter ?? after;\n                return after < max ? after : max;\n            }\n            if (error.response.status === 413) {\n                throw error;\n            }\n        }\n        const retryDelay = this._options.retry.delay(this._retryCount);\n        return Math.min(this._options.retry.backoffLimit, retryDelay);\n    }\n    _decorateResponse(response) {\n        if (this._options.parseJson) {\n            response.json = async () => this._options.parseJson(await response.text());\n        }\n        return response;\n    }\n    async _retry(function_) {\n        try {\n            return await function_();\n        }\n        catch (error) {\n            const ms = Math.min(this._calculateRetryDelay(error), maxSafeTimeout);\n            if (this._retryCount < 1) {\n                throw error;\n            }\n            await delay(ms, { signal: this._options.signal });\n            for (const hook of this._options.hooks.beforeRetry) {\n                // eslint-disable-next-line no-await-in-loop\n                const hookResult = await hook({\n                    request: this.request,\n                    options: this._options,\n                    error: error,\n                    retryCount: this._retryCount,\n                });\n                // If `stop` is returned from the hook, the retry process is stopped\n                if (hookResult === stop) {\n                    return;\n                }\n            }\n            return this._retry(function_);\n        }\n    }\n    async _fetch() {\n        for (const hook of this._options.hooks.beforeRequest) {\n            // eslint-disable-next-line no-await-in-loop\n            const result = await hook(this.request, this._options);\n            if (result instanceof Request) {\n                this.request = result;\n                break;\n            }\n            if (result instanceof Response) {\n                return result;\n            }\n        }\n        const nonRequestOptions = findUnknownOptions(this.request, this._options);\n        // Cloning is done here to prepare in advance for retries\n        const mainRequest = this.request;\n        this.request = mainRequest.clone();\n        if (this._options.timeout === false) {\n            return this._options.fetch(mainRequest, nonRequestOptions);\n        }\n        return timeout(mainRequest, nonRequestOptions, this.abortController, this._options);\n    }\n    /* istanbul ignore next */\n    _stream(response, onDownloadProgress) {\n        const totalBytes = Number(response.headers.get('content-length')) || 0;\n        let transferredBytes = 0;\n        if (response.status === 204) {\n            if (onDownloadProgress) {\n                onDownloadProgress({ percent: 1, totalBytes, transferredBytes }, new Uint8Array());\n            }\n            return new globalThis.Response(null, {\n                status: response.status,\n                statusText: response.statusText,\n                headers: response.headers,\n            });\n        }\n        return new globalThis.Response(new globalThis.ReadableStream({\n            async start(controller) {\n                const reader = response.body.getReader();\n                if (onDownloadProgress) {\n                    onDownloadProgress({ percent: 0, transferredBytes: 0, totalBytes }, new Uint8Array());\n                }\n                async function read() {\n                    const { done, value } = await reader.read();\n                    if (done) {\n                        controller.close();\n                        return;\n                    }\n                    if (onDownloadProgress) {\n                        transferredBytes += value.byteLength;\n                        const percent = totalBytes === 0 ? 0 : transferredBytes / totalBytes;\n                        onDownloadProgress({ percent, transferredBytes, totalBytes }, value);\n                    }\n                    controller.enqueue(value);\n                    await read();\n                }\n                await read();\n            },\n        }), {\n            status: response.status,\n            statusText: response.statusText,\n            headers: response.headers,\n        });\n    }\n}\n//# sourceMappingURL=Ky.js.map","// https://github.com/sindresorhus/delay/tree/ab98ae8dfcb38e1593286c94d934e70d14a4e111\nexport default async function delay(ms, { signal }) {\n    return new Promise((resolve, reject) => {\n        if (signal) {\n            signal.throwIfAborted();\n            signal.addEventListener('abort', abortHandler, { once: true });\n        }\n        function abortHandler() {\n            clearTimeout(timeoutId);\n            reject(signal.reason);\n        }\n        const timeoutId = setTimeout(() => {\n            signal?.removeEventListener('abort', abortHandler);\n            resolve();\n        }, ms);\n    });\n}\n//# sourceMappingURL=delay.js.map","import { kyOptionKeys, requestOptionsRegistry } from '../core/constants.js';\nexport const findUnknownOptions = (request, options) => {\n    const unknownOptions = {};\n    for (const key in options) {\n        if (!(key in requestOptionsRegistry) && !(key in kyOptionKeys) && !(key in request)) {\n            unknownOptions[key] = options[key];\n        }\n    }\n    return unknownOptions;\n};\n//# sourceMappingURL=options.js.map","import { TimeoutError } from '../errors/TimeoutError.js';\n// `Promise.race()` workaround (#91)\nexport default async function timeout(request, init, abortController, options) {\n    return new Promise((resolve, reject) => {\n        const timeoutId = setTimeout(() => {\n            if (abortController) {\n                abortController.abort();\n            }\n            reject(new TimeoutError(request));\n        }, options.timeout);\n        void options\n            .fetch(request, init)\n            .then(resolve)\n            .catch(reject)\n            .then(() => {\n            clearTimeout(timeoutId);\n        });\n    });\n}\n//# sourceMappingURL=timeout.js.map","/*! MIT License © Sindre Sorhus */\nimport { Ky } from './core/Ky.js';\nimport { requestMethods, stop } from './core/constants.js';\nimport { validateAndMerge } from './utils/merge.js';\nconst createInstance = (defaults) => {\n    // eslint-disable-next-line @typescript-eslint/promise-function-async\n    const ky = (input, options) => Ky.create(input, validateAndMerge(defaults, options));\n    for (const method of requestMethods) {\n        // eslint-disable-next-line @typescript-eslint/promise-function-async\n        ky[method] = (input, options) => Ky.create(input, validateAndMerge(defaults, options, { method }));\n    }\n    ky.create = (newDefaults) => createInstance(validateAndMerge(newDefaults));\n    ky.extend = (newDefaults) => {\n        if (typeof newDefaults === 'function') {\n            newDefaults = newDefaults(defaults ?? {});\n        }\n        return createInstance(validateAndMerge(defaults, newDefaults));\n    };\n    ky.stop = stop;\n    return ky;\n};\nconst ky = createInstance();\nexport default ky;\nexport { HTTPError } from './errors/HTTPError.js';\nexport { TimeoutError } from './errors/TimeoutError.js';\n//# sourceMappingURL=index.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.v = (exports, wasmModuleId, wasmModuleHash, importsObj) => {\n\tvar req = fetch(__webpack_require__.p + \"\" + wasmModuleHash + \".module.wasm\");\n\tvar fallback = () => (req\n\t\t.then((x) => (x.arrayBuffer()))\n\t\t.then((bytes) => (WebAssembly.instantiate(bytes, importsObj)))\n\t\t.then((res) => (Object.assign(exports, res.instance.exports))));\n\treturn req.then((res) => {\n\t\tif (typeof WebAssembly.instantiateStreaming === \"function\") {\n\t\t\treturn WebAssembly.instantiateStreaming(res, importsObj)\n\t\t\t\t.then(\n\t\t\t\t\t(res) => (Object.assign(exports, res.instance.exports)),\n\t\t\t\t\t(e) => {\n\t\t\t\t\t\tif(res.headers.get(\"Content-Type\") !== \"application/wasm\") {\n\t\t\t\t\t\t\tconsole.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\t\t\t\t\t\t\treturn fallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t}\n\t\treturn fallback();\n\t});\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(401);\n"],"names":["root","factory","exports","module","define","amd","a","i","this","webpackQueues","webpackExports","webpackError","resolveQueue","wasm","__wbg_set_wasm","val","cachedTextDecoder","TextDecoder","require","ignoreBOM","fatal","decode","cachedUint8Memory0","getUint8Memory0","byteLength","Uint8Array","memory","buffer","getStringFromWasm0","ptr","len","subarray","heap","Array","fill","undefined","push","heap_next","length","addHeapObject","obj","idx","getObject","takeObject","ret","dropObject","WASM_VECTOR_LEN","cachedTextEncoder","TextEncoder","encodeString","encodeInto","arg","view","buf","encode","set","read","written","passStringToWasm0","malloc","realloc","mem","offset","code","charCodeAt","slice","isLikeNone","x","cachedInt32Memory0","getInt32Memory0","Int32Array","cachedFloat64Memory0","debugString","type","description","name","isArray","debug","builtInMatches","exec","toString","call","className","JSON","stringify","_","Error","message","stack","convertTomlToJson","content","retptr","__wbindgen_add_to_stack_pointer","ptr0","__wbindgen_malloc","__wbindgen_realloc","len0","r0","r1","handleError","f","args","apply","e","__wbindgen_exn_store","PreprocessorFinalization","FinalizationRegistry","register","unregister","__wbg_preprocessor_free","Preprocessor","__destroy_into_raw","__wbg_ptr","free","constructor","data","buffer_size","preprocessor_new","process","key","state","ptr1","len1","preprocessor_process","commit","text","preprocessor_commit","popQueue","preprocessor_popQueue","getInput","deferred1_0","deferred1_1","preprocessor_getInput","__wbindgen_free","clearQueue","preprocessor_clearQueue","TranslatorFinalization","__wbg_translator_free","Translator","dictionary","auto_commit","translator_new","source","translator_register","translator_unregister","translate","input","translator_translate","__wbindgen_error_new","arg0","arg1","__wbindgen_object_drop_ref","__wbindgen_string_new","__wbindgen_string_get","__wbindgen_as_number","__wbindgen_object_clone_ref","__wbindgen_is_object","__wbg_crypto_d05b68a3572bb8ca","crypto","__wbg_process_b02b3570280d0366","__wbg_versions_c1cb42213cedf0f5","versions","__wbg_node_43b1089f407e4ec2","node","__wbindgen_is_string","__wbg_require_9a7e0f667ead4995","arguments","__wbg_msCrypto_10fc94afee92bd76","msCrypto","__wbg_randomFillSync_b70ccbdf4926a99d","randomFillSync","__wbg_getRandomValues_7e42b4fb8779dc6d","getRandomValues","__wbg_now_4e659b3d15f470d9","now","__wbindgen_jsval_loose_eq","__wbindgen_boolean_get","v","__wbindgen_number_get","Float64Array","__wbg_String_b9412f8799faab3e","String","__wbindgen_number_new","__wbindgen_bigint_from_i64","__wbg_set_f975102236d3c502","arg2","__wbindgen_is_function","__wbg_self_ce0dbfc45cf2f5be","self","__wbg_window_c6fb939a7f436783","window","__wbg_globalThis_d1e6af4856ba331b","globalThis","__wbg_global_207b558942527489","g","global","__wbindgen_is_undefined","__wbg_newnoargs_e258087cd0daa0ea","Function","__wbg_length_cd7af8117672b8b8","__wbg_new_16b304a2cfa7ff4a","__wbg_new_d9bc3a0147634640","Map","__wbg_next_40fc327bfc8770e6","next","__wbg_value_d93c65011f51a456","value","__wbg_iterator_2cee6dadfd956dfa","Symbol","iterator","__wbg_new_72fb9a18b5ae2624","Object","__wbg_get_bd8e338fbd5f5cc8","__wbg_set_d4638f722068f043","__wbg_isArray_2ab64d95e09ea0ae","__wbg_instanceof_ArrayBuffer_836825be07d4c9d2","result","ArrayBuffer","__wbg_call_27c0f87801dedf93","__wbg_call_b3ca7c6051f9bec1","__wbg_set_8417257aaedc936b","__wbg_next_196c84450b364254","__wbg_done_298b57d23c0fc80c","done","__wbg_entries_95cc2c823b285a09","entries","__wbg_get_e3c254076557e348","Reflect","get","__wbg_buffer_12d079cc21e14bdb","__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb","__wbg_new_63b92bc8671ed464","__wbg_instanceof_Uint8Array_2b3bbecd033d19f6","__wbg_newwithlength_e9b4878cebadb3d3","__wbg_subarray_a1f73cd4b5b42fe1","__wbg_length_c20a40f15020d68a","__wbg_set_a47bac70306a19a7","__wbindgen_debug_string","__wbindgen_throw","__wbindgen_memory","properties","isBrowser","isFirefox","mozInnerScreenX","getCaretCoordinates","element","position","options","el","document","querySelector","parentNode","removeChild","div","createElement","id","body","appendChild","style","computed","getComputedStyle","currentStyle","isInput","nodeName","whiteSpace","wordWrap","visibility","forEach","prop","lineHeight","height","scrollHeight","parseInt","overflowY","overflow","textContent","substring","replace","span","coordinates","top","offsetTop","left","offsetLeft","backgroundColor","translation","translators","loadFromUrl","configUrl","httpGet","tomlToJson","auto_capitalize","has","URL","href","alias","toUpperCase","translator","animation","textFieldElementID","downloadStatusElementID","tooltipElementID","tooltipInputElementID","tooltipPredicatesElementID","tooltipPredicateClass","tooltipAdjustLeft","tooltipAdjustTop","getElementById","textFieldElement","downloadStatusElement","tooltipElement","tooltipInputElement","tooltipPredicatesElement","predicates","predicateId","pageSize","isIdle","cursorPos","dataset","lock","disabled","hidden","loadConfigFromUrl","then","async","config","initAfrim","listenKeyboard","listenMouse","listenTextFieldState","processCommand","err","console","error","clearPredicate","innerHTML","loadPredicates","predicate","texts","remainingCode","remaining_code","canCommit","can_commit","updatePredicate","concat","forloopCounter","icon","predicateElement","classList","add","innerText","event","addEventListener","preprocessor","append","restoreCursorPosition","focus","setSelectionRange","cmd","textValue","CommitText","requestAnimationFrame","afrimConfig","AfrimConfig","afrim","selectionEnd","ctrlKey","changed","caret","scrollTop","scrollLeft","remove","kill","cancelAnimationFrame","replaceWith","cloneNode","url","response","ok","statusText","HTTPError","request","status","trim","super","method","TimeoutError","isObject","validateAndMerge","sources","TypeError","deepMerge","mergeHeaders","source1","source2","Headers","isHeadersInstance","delete","newHookValue","original","incoming","property","hasOwn","mergeHooks","beforeRequest","beforeRetry","afterResponse","beforeError","returnValue","headers","hooks","supportsRequestStreams","duplexAccessed","hasContentType","supportsReadableStream","ReadableStream","supportsRequest","Request","duplex","supportsAbortController","AbortController","supportsResponseStreams","supportsFormData","FormData","requestMethods","responseTypes","json","formData","arrayBuffer","blob","maxSafeTimeout","stop","kyOptionKeys","parseJson","stringifyJson","searchParams","prefixUrl","retry","timeout","throwHttpErrors","onDownloadProgress","fetch","requestOptionsRegistry","mode","credentials","cache","redirect","referrer","referrerPolicy","integrity","keepalive","signal","dispatcher","priority","normalizeRequestMethod","includes","defaultRetryOptions","limit","methods","statusCodes","afterStatusCodes","maxRetryAfter","Number","POSITIVE_INFINITY","backoffLimit","delay","attemptCount","normalizeRetryOptions","Ky","create","ky","function_","_options","RangeError","Promise","resolve","_fetch","hook","modifiedResponse","_decorateResponse","clone","Response","_stream","toLowerCase","_retry","mimeType","abortController","_retryCount","_input","bind","startsWith","endsWith","originalSignal","abort","reason","URLSearchParams","_calculateRetryDelay","retryAfter","after","isNaN","Date","parse","max","retryDelay","Math","min","ms","reject","abortHandler","clearTimeout","timeoutId","throwIfAborted","once","setTimeout","removeEventListener","retryCount","nonRequestOptions","unknownOptions","findUnknownOptions","mainRequest","init","catch","totalBytes","transferredBytes","percent","start","controller","reader","getReader","close","enqueue","createInstance","defaults","newDefaults","extend","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","queue","d","fn","r","hasAwait","currentDeps","outerResolve","depQueues","Set","promise","rej","deps","map","dep","wrapDeps","getResult","fnQueue","q","definition","o","defineProperty","enumerable","hmd","children","prototype","hasOwnProperty","toStringTag","wasmModuleId","wasmModuleHash","importsObj","req","p","fallback","bytes","WebAssembly","instantiate","res","assign","instance","instantiateStreaming","warn","scriptUrl","importScripts","location","currentScript","src","scripts","getElementsByTagName","test"],"sourceRoot":""}